## Citatdels Tools

This repository contains two main applications:
- `calibration.py`: captures positions/areas for automation.
- `citadels.py`: runs the citadel attack automation.

### Requirements
- Windows
- Python 3.12+
- Project dependencies installed (pyautogui, opencv, numpy, pytesseract, pynput, python_imagesearch, screeninfo, tkinter)

### Important files
- `position.cfg`: generated by calibration with all coordinates and parameters.
- `images/`: images used to locate elements on screen (do not remove).

## Calibration

### Goal
Capture all coordinates and parameters required for the automation.

### How to use
Download and extract the release .zip or download the build folder.
1. Run `calibration.exe`.
2. Choose the mode:
   - **Full Calibration**: full workflow.
   - **Only Troops**: only the soldier-related steps. Use this if you already calibrated and only need to fix troops.
3. Follow the instruction windows and perform the requested clicks/selections.
4. When finished, `position.cfg` will be updated.

### Cancel
If you close any instruction window or cancel a prompt, calibration stops.

## Citadels

### Goal
Automate citadel attacks using the coordinates in `position.cfg`.

### How to use
1. Make sure `position.cfg` and the `images/` folder are in the same directory.
2. Run `citadels.exe`.
3. A small window called **Citatdels** will appear in the bottom-left corner.
4. Click **Stop or ESC** or press `ESC` to stop the automation.

### Notes
- The text field in the window shows logs in real time.
- The script depends on the images in `images/` and the coordinates in `position.cfg`.

## Executables (PyInstaller)

To generate executables:
```
python -m PyInstaller --onefile calibration.py
python -m PyInstaller --onefile citadels.py
```

The files will be generated in `dist/`.
Keep `images/` and `position.cfg` in the same directory as the `.exe`.
